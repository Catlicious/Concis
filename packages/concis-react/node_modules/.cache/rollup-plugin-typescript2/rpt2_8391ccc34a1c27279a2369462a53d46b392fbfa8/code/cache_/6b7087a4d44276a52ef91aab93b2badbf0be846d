{"code":"import { useCallback, useState, useEffect, useRef } from 'react';\r\nconst useStateCallback = (defaultVal) => {\r\n    const [state, setState] = useState(defaultVal);\r\n    const listenRef = useRef(); //监听新状态的回调器\r\n    const _setState = useCallback((newVal, callback) => {\r\n        //更新业务\r\n        listenRef.current = callback;\r\n        setState(newVal);\r\n    }, []);\r\n    useEffect(() => {\r\n        listenRef.current && listenRef.current(state); //回调新状态\r\n    }, [state]);\r\n    return [state, _setState];\r\n};\r\nexport default useStateCallback;\r\n","references":["/Users/apple/Desktop/react-view-ui/node_modules/@types/react/index.d.ts"]}
